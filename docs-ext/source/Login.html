<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">Ext.define(&#39;CpsiMapview.view.form.Login&#39;, {
    extend: &#39;Ext.window.Window&#39;,
    xtype: &#39;cmv_login_form&#39;,

    requires: [
        &#39;CpsiMapview.controller.form.Login&#39;
    ],

    viewModel: {
        serviceUrl: &#39;./WebServices/authorization/authenticate&#39;,
        validateUrl: &#39;./WebServices/authorization/validateToken&#39;,
        tokenName: &#39;token&#39;,
        minimumRequiredRole: null
    },

    controller: &#39;cmv_login_form&#39;,
    bodyPadding: 10,
    title: &#39;Login Window&#39;,
    closable: false,
    closeAction: &#39;hide&#39;,
    modal: true,

    items: {
        xtype: &#39;form&#39;,
        border: false,
        items: [{
            xtype: &#39;textfield&#39;,
            name: &#39;username&#39;,
            fieldLabel: &#39;Username&#39;,
            allowBlank: false
        }, {
            xtype: &#39;textfield&#39;,
            name: &#39;password&#39;,
            inputType: &#39;password&#39;,
            fieldLabel: &#39;Password&#39;,
            allowBlank: false,
            listeners: {
                specialkey: &#39;onSpecialKey&#39;
            }
        }],
        buttons: [{
            xtype: &#39;label&#39;,
            html: &#39;&lt;a href=&quot;/ManagementTool/Account/ForgotPassword&quot; target=&quot;_blank&quot;&gt;Forgotten Password?&lt;/a&gt;&#39;
        }, &#39;-&gt;&#39;, {
            text: &#39;Login&#39;,
            listeners: {
                click: &#39;onLoginClick&#39;
            }
        }]
    }
});
</pre>
</body>
</html>
