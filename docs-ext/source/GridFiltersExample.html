<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='global-property-storeConfig'>/**
</span> * Example classes for a CpsiMapview.view.grid.Grid grid
 */


var storeConfig = {
    type: &#39;array&#39;,
    fields: [&#39;name&#39;],
    data: [
        [&#39;Carlow&#39;],
        [&#39;Cavan&#39;],
        [&#39;Clare&#39;],
        [&#39;Cork City&#39;],
        [&#39;Cork County&#39;],
        [&#39;DLRCC&#39;],
        [&#39;Donegal County Council&#39;],
        [&#39;Dublin City&#39;],
        [&#39;Fingal&#39;],
        [&#39;Galway City&#39;],
        [&#39;Galway County&#39;],
        [&#39;Kerry&#39;],
        [&#39;Kildare&#39;],
        [&#39;Kilkenny CC&#39;],
        [&#39;Laois&#39;],
        [&#39;Leitrim&#39;],
        [&#39;Limerick&#39;],
        [&#39;Longford&#39;],
        [&#39;Louth&#39;],
        [&#39;Mayo&#39;],
        [&#39;Meath&#39;],
        [&#39;Monaghan&#39;],
        [&#39;Offaly&#39;],
        [&#39;Roscommon CC&#39;],
        [&#39;Sligo&#39;],
        [&#39;South Dublin Co Co&#39;],
        [&#39;Tipperary&#39;],
        [&#39;Waterford&#39;],
        [&#39;Westmeath&#39;],
        [&#39;Wexford&#39;],
        [&#39;Wicklow&#39;]
    ]
};


// define the model
Ext.define(&#39;CpsiMapview.model.GridFiltersExample&#39;, {
    extend: &#39;GeoExt.data.model.Feature&#39;,
    idProperty: &#39;OBJECTID&#39;,
    fields: [
        {
            name: &#39;Unique_ID&#39;,
            type: &#39;string&#39;
        },
        {
            name: &#39;GREENFIELD&#39;,
            type: &#39;string&#39;
        },
        {
            name: &#39;AUTHORITY&#39;,
            type: &#39;string&#39;
        },
        {
            name: &#39;Location&#39;,
            type: &#39;string&#39;
        },
        {
            name: &#39;Calc_Area&#39;,
            type: &#39;float&#39;
        }
    ]
});

// create the store
Ext.define(&#39;CpsiMapview.store.GridFiltersExample&#39;, {
    extend: &#39;CpsiMapview.store.WfsFeatures&#39;,
    alias: &#39;store.GridFiltersExample&#39;,
    url: &#39;https://mapserver.compass.ie/mapserver/?map=/MapServer/apps/mapview-demo/example.map&amp;&#39;,
    storeId: &#39;GridFiltersExample&#39;,
    requestMethod: &#39;POST&#39;,
    //srsName: &#39;epsg:2157&#39;,
    model: &#39;CpsiMapview.model.GridFiltersExample&#39;,
    typeName: &#39;lasites&#39;,
    layerOptions: {
        displayInLayerSwitcher: false,
        name: &#39;GridFiltersExampleLayer&#39;
    },
    sorters: [{
        property: &#39;OBJECTID&#39;,
        direction: &#39;ASC&#39;
    }]
});

// create the view model
Ext.define(&#39;CpsiMapview.view.grid.GridFiltersExampleModel&#39;, {
    extend: &#39;CpsiMapview.model.grid.Grid&#39;,
    alias: &#39;viewmodel.filtersexample_grid&#39;,
    data: {
        wmsLayerKey: &#39;LA_SITES&#39;,
        gridStoreType: &#39;GridFiltersExample&#39;,
        gridLayerName: &#39;GridFiltersExampleLayer&#39;, // TODO this is duplicated in layerOptions above
        helpUrl: &#39;https://github.com/compassinformatics/cpsi-mapview/blob/master/app/view/grid/ExampleGrid.js&#39;
    }
});

// create the grid view
Ext.define(&#39;CpsiMapview.view.grid.GridFiltersExample&#39;, {
    extend: &#39;CpsiMapview.view.grid.Grid&#39;,
    xtype: &#39;cmv_filtersexamplegrid&#39;,
    controller: &#39;cmv_grid&#39;,
    viewModel: &#39;filtersexample_grid&#39;,
    columns: {
        items: [
            {
                text: &#39;Id&#39;,
                dataIndex: &#39;OBJECTID&#39;, // case-sensitive
                xtype: &#39;numbercolumn&#39;,
                filter: {
                    type: &#39;number&#39;
                }
            },
            {
                text: &#39;Unique ID&#39;,
                dataIndex: &#39;Unique_ID&#39;,
                flex: 2,
                filter: {
                    type: &#39;string&#39;
                }
            },
            {
                text: &#39;Greenfield?&#39;,
                dataIndex: &#39;GREENFIELD&#39;,
                flex: 2,
                filter: {
                    type: &#39;string&#39;
                }
            },
            {
                text: &#39;LA&#39;,
                dataIndex: &#39;AUTHORITY&#39;,
                flex: 1,
                filter: {
                    type: &#39;list&#39;,
                    dataIndex: &#39;AUTHORITY&#39;,
                    labelField: &#39;name&#39;,
                    idField: &#39;name&#39;,
                    store: storeConfig
                }
            },
            {
                text: &#39;Location&#39;,
                dataIndex: &#39;Location&#39;,
                flex: 1,
                filter: {
                    type: &#39;string&#39;
                }
            },
            {
                text: &#39;Area&#39;,
                dataIndex: &#39;Calc_Area&#39;,
                flex: 1,
                xtype: &#39;numbercolumn&#39;,
                filter: {
                    type: &#39;number&#39;
                }
            }
        ]
    }
});
</pre>
</body>
</html>
