<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='CpsiMapview-util-Style'>/**
</span> * Util class for style related functions.
 *
 * @class CpsiMapview.util.Style
 */
Ext.define(&#39;CpsiMapview.util.Style&#39;, {
    alternateClassName: &#39;StyleUtil&#39;,
    requires: [],

    singleton: true,

<span id='CpsiMapview-util-Style-method-createBlackCircle'>    createBlackCircle: function () {
</span>        return new ol.style.Style({
            image: new ol.style.Circle({
                radius: 5,
                fill: new ol.style.Fill({
                    color: &#39;black&#39;
                })
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createGreenTriangle'>    createGreenTriangle: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                fill: new ol.style.Fill({
                    color: &#39;green&#39;
                }),
                stroke: new ol.style.Stroke({
                    color: &#39;green&#39;,
                    width: 3
                }),
                points: 3,
                radius: 5,
                rotation: 0,
                angle: 0,
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createRedSquare'>    createRedSquare: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                fill: new ol.style.Fill({
                    color: &#39;red&#39;
                }),
                stroke: new ol.style.Stroke({
                    color: &#39;red&#39;,
                    width: 3
                }),
                points: 4,
                radius: 5,
                angle: Math.PI / 4,
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createYellowSquare'>    createYellowSquare: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                fill: new ol.style.Fill({
                    color: &#39;yellow&#39;
                }),
                stroke: new ol.style.Stroke({
                    color: &#39;black&#39;,
                    width: 3
                }),
                points: 4,
                radius: 10,
                angle: Math.PI / 4,
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createOrangeLine'>    createOrangeLine: function () {
</span>        return new ol.style.Style({
            stroke: new ol.style.Stroke({
                color: &#39;orange&#39;,
                width: 2
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createBlackCross'>    createBlackCross: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                stroke: new ol.style.Stroke({
                    color: &#39;black&#39;,
                    width: 1
                }),
                points: 4,
                radius: 10,
                radius2: 0,
                angle: 0,
            })
        });
    },
<span id='CpsiMapview-util-Style-method-createBlackStar'>    createBlackStar: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                stroke: new ol.style.Stroke({
                    color: &#39;black&#39;,
                    width: 1
                }),
                points: 5,
                radius: 10,
                radius2: 0,
                angle: 0,
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createBlackRotatedCross'>    createBlackRotatedCross: function () {
</span>        return new ol.style.Style({
            image: new ol.style.RegularShape({
                stroke: new ol.style.Stroke({
                    color: &#39;black&#39;,
                    width: 1
                }),
                points: 4,
                radius: 10,
                radius2: 0,
                angle: Math.PI / 4
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createWhiteCircle'>    createWhiteCircle: function () {
</span>        return new ol.style.Style({
            image: new ol.style.Circle({
                radius: 3,
                fill: new ol.style.Fill({
                    color: &#39;white&#39;,
                }),
                stroke: new ol.style.Stroke({
                    color: &#39;black&#39;,
                    width: 1
                }),
            })
        });
    },

<span id='CpsiMapview-util-Style-method-createRedPoiMarker'>    createRedPoiMarker: function () {
</span>        return new ol.style.Style({
            text: new ol.style.Text({
                font: &#39;normal 2em &quot;font-gis&quot;&#39;,
                text: &#39;\uea16&#39;,
                fill: new ol.style.Fill({
                    color: &#39;red&#39;
                })
            })
        });
    },

<span id='CpsiMapview-util-Style-method-getStyleByName'>    /**
</span>     * Get the style URL for the selected style object based on name
     * @returns
     */
    getStyleByName: function (layer, styleName) {

        var styleObj = null;

        if (Ext.isEmpty(layer.get(&#39;styles&#39;)) === false) {
            styleObj = layer.get(&#39;styles&#39;).find(function (style) {
                return style.name === styleName;
            });
            if (!styleObj) {
                Ext.log.warn(&#39;The style &#39; + styleName + &#39; was not found in the layer style configs&#39;);
            }
        }

        return styleObj;

    },

<span id='CpsiMapview-util-Style-method-getLayerStyleTitle'>    /**
</span>     * Returns the human readable title for the given layer style.
     * Either the explicit title property of the style config or the
     * style label
     *
     * @param  {String} layerStyle The style name to get the title for
     * @param  {ol.layer.Base} layer The layer to get style title for
     * @return {String}            Human readable title
     */
    getLayerStyleTitle: function (layerStyleName, layer) {

        var layerStyles = layer.get(&#39;styles&#39;);
        var layerTitle = null;

        Ext.each(layerStyles, function (layerStyle) {
            // get the relevant style definition
            if (layerStyle.name === layerStyleName) {
                layerTitle = layerStyle[&#39;title&#39;];
            }
        });

        return layerTitle;
    },

<span id='CpsiMapview-util-Style-method-createClusterStyle'>    /**
</span>     * Create a point style for clustered features
     * @param {any} featCount the number of features in the clustered feature
     */
    createClusterStyle: function (featCount) {
        return new ol.style.Style({
            image: new ol.style.Circle({
                radius: 10,
                stroke: new ol.style.Stroke({
                    color: &#39;#fff&#39;
                }),
                fill: new ol.style.Fill({
                    color: &#39;#3399CC&#39;
                })
            }),
            text: new ol.style.Text({
                text: featCount.toString(),
                fill: new ol.style.Fill({
                    color: &#39;#fff&#39;
                })
            })
        });
    }
});
</pre>
</body>
</html>
