Ext.data.JsonP.CpsiMapview_controller_MapController({"tagname":"class","name":"CpsiMapview.controller.MapController","autodetected":{"aliases":true,"alternateClassNames":true,"extends":true,"mixins":true,"requires":true,"uses":true,"members":true,"code_type":true},"files":[{"filename":"MapController.js","href":"MapController.html#CpsiMapview-controller-MapController"}],"aliases":{"controller":["cmv_map"]},"alternateClassNames":[],"extends":"Ext.app.ViewController","mixins":["CpsiMapview.util.EditWindowOpenerMixin"],"requires":["BasiGX.util.Map"],"uses":[],"members":[{"name":"clickableLayerConfigs","tagname":"property","owner":"CpsiMapview.controller.MapController","id":"property-clickableLayerConfigs","meta":{}},{"name":"afterMapRender","tagname":"method","owner":"CpsiMapview.controller.MapController","id":"method-afterMapRender","meta":{}},{"name":"getEditingFormWindow","tagname":"method","owner":"CpsiMapview.util.EditWindowOpenerMixin","id":"method-getEditingFormWindow","meta":{}},{"name":"getExistingEditingFormWindow","tagname":"method","owner":"CpsiMapview.util.EditWindowOpenerMixin","id":"method-getExistingEditingFormWindow","meta":{}},{"name":"onMapClick","tagname":"method","owner":"CpsiMapview.controller.MapController","id":"method-onMapClick","meta":{}}],"code_type":"ext_define","id":"class-CpsiMapview.controller.MapController","component":false,"superclasses":["Ext.app.ViewController"],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>Ext.app.ViewController<div class='subclass '><strong>CpsiMapview.controller.MapController</strong></div></div><h4>Mixins</h4><div class='dependency'><a href='#!/api/CpsiMapview.util.EditWindowOpenerMixin' rel='CpsiMapview.util.EditWindowOpenerMixin' class='docClass'>CpsiMapview.util.EditWindowOpenerMixin</a></div><h4>Requires</h4><div class='dependency'>BasiGX.util.Map</div><h4>Files</h4><div class='dependency'><a href='source/MapController.html#CpsiMapview-controller-MapController' target='_blank'>MapController.js</a></div></pre><div class='doc-contents'><p>This class is the controller for the map view of cpsi mapview</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-clickableLayerConfigs' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.controller.MapController'>CpsiMapview.controller.MapController</span><br/><a href='source/MapController.html#CpsiMapview-controller-MapController-property-clickableLayerConfigs' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.controller.MapController-property-clickableLayerConfigs' class='name expandable'>clickableLayerConfigs</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>A configuration object to store settings relating to opening forms when clicking on a feature. ...</div><div class='long'><p>A configuration object to store settings relating to opening forms when clicking on a feature.\nThis should be overridden in inherited projects and should be in the following form:</p>\n\n<p>{\n  layerKeyName: {\n      keyField: 'ObjectId', // the field containing the unique feature Id to open in a form\n      modelClass: 'CpsiMapview.model.ModelName', // the name of the class used to load a model\n      editWindowClass: 'CpsiMapview.view.EditWindow' // the name of the form view class to open when clicking on a feature\n  }\n}</p>\n\n<p>You also use a function to return a configuration object which returns an Id instead of a\nkeyField which allows custom logic to be applied. The function receives a single argument which\nis the clicked ol.Feature\n{\n  layerKeyName: function (feat) {\n      return {\n          id: Math.abs(feat.get('ObjectId')), // the unique feature Id to open in a form\n          modelClass: 'CpsiMapview.model.ModelName', // the name of the class used to load a model\n          editWindowClass: 'CpsiMapview.view.EditWindow' // the name of the form view class to open when clicking on a feature\n      }\n  }\n}</p>\n\n<p>Multiple configurations can be provided to support clicks on multiple layers</p>\n<p>Defaults to: <code>{}</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-afterMapRender' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.controller.MapController'>CpsiMapview.controller.MapController</span><br/><a href='source/MapController.html#CpsiMapview-controller-MapController-method-afterMapRender' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.controller.MapController-method-afterMapRender' class='name expandable'>afterMapRender</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Function called after render of map component ...</div><div class='long'><p>Function called after render of map component</p>\n</div></div></div><div id='method-getEditingFormWindow' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/CpsiMapview.util.EditWindowOpenerMixin' rel='CpsiMapview.util.EditWindowOpenerMixin' class='defined-in docClass'>CpsiMapview.util.EditWindowOpenerMixin</a><br/><a href='source/EditWindowOpenerMixin.html#CpsiMapview-util-EditWindowOpenerMixin-method-getEditingFormWindow' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.EditWindowOpenerMixin-method-getEditingFormWindow' class='name expandable'>getEditingFormWindow</a>( <span class='pre'>record, editWindowType</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Return the existing window for the given record if it already exists\nor a new window if not ...</div><div class='long'><p>Return the existing window for the given record if it already exists\nor a new window if not</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>record</span> : any<div class='sub-desc'><p>the model to open</p>\n</div></li><li><span class='pre'>editWindowType</span> : any<div class='sub-desc'><p>the window in which to open the model</p>\n</div></li></ul></div></div></div><div id='method-getExistingEditingFormWindow' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/CpsiMapview.util.EditWindowOpenerMixin' rel='CpsiMapview.util.EditWindowOpenerMixin' class='defined-in docClass'>CpsiMapview.util.EditWindowOpenerMixin</a><br/><a href='source/EditWindowOpenerMixin.html#CpsiMapview-util-EditWindowOpenerMixin-method-getExistingEditingFormWindow' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.EditWindowOpenerMixin-method-getExistingEditingFormWindow' class='name expandable'>getExistingEditingFormWindow</a>( <span class='pre'>recId, editWindowType</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Find an existing window based on a record id ...</div><div class='long'><p>Find an existing window based on a record id</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>recId</span> : any<div class='sub-desc'>\n</div></li><li><span class='pre'>editWindowType</span> : any<div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-onMapClick' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.controller.MapController'>CpsiMapview.controller.MapController</span><br/><a href='source/MapController.html#CpsiMapview-controller-MapController-method-onMapClick' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.controller.MapController-method-onMapClick' class='name expandable'>onMapClick</a>( <span class='pre'>clickedFeatures</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Handle map clicks so data entry forms can be opened by clicking directly\non vector features ...</div><div class='long'><p>Handle map clicks so data entry forms can be opened by clicking directly\non vector features</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>clickedFeatures</span> : any<div class='sub-desc'>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});