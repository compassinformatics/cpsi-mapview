Ext.data.JsonP.CpsiMapview_util_Legend({"tagname":"class","name":"CpsiMapview.util.Legend","autodetected":{"aliases":true,"alternateClassNames":true,"extends":true,"mixins":true,"requires":true,"uses":true,"members":true,"code_type":true,"singleton":true},"files":[{"filename":"Legend.js","href":"Legend.html#CpsiMapview-util-Legend"}],"aliases":{},"alternateClassNames":["LegendUtil"],"extends":"Ext.Base","mixins":[],"requires":["BasiGX.util.Object","CpsiMapview.util.Html"],"uses":[],"members":[{"name":"cacheLegendImgAsDataUrl","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-cacheLegendImgAsDataUrl","meta":{}},{"name":"createGetLegendGraphicUrl","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-createGetLegendGraphicUrl","meta":{}},{"name":"getLegendImgHtmlTpl","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-getLegendImgHtmlTpl","meta":{}},{"name":"getSldFileFromWmsStyle","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-getSldFileFromWmsStyle","meta":{}},{"name":"getUniqueLayersParam","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-getUniqueLayersParam","meta":{"private":true}},{"name":"getWmsStyleFromSldFile","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-getWmsStyleFromSldFile","meta":{}},{"name":"hasLabels","tagname":"method","owner":"CpsiMapview.util.Legend","id":"method-hasLabels","meta":{}}],"code_type":"ext_define","singleton":true,"id":"class-CpsiMapview.util.Legend","component":false,"superclasses":["Ext.Base"],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Alternate names</h4><div class='alternate-class-name'>LegendUtil</div><h4>Hierarchy</h4><div class='subclass first-child'>Ext.Base<div class='subclass '><strong>CpsiMapview.util.Legend</strong></div></div><h4>Requires</h4><div class='dependency'>BasiGX.util.Object</div><div class='dependency'><a href='#!/api/CpsiMapview.util.Html' rel='CpsiMapview.util.Html' class='docClass'>CpsiMapview.util.Html</a></div><h4>Files</h4><div class='dependency'><a href='source/Legend.html#CpsiMapview-util-Legend' target='_blank'>Legend.js</a></div></pre><div class='doc-contents'><p>Util class for legends related functions.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-cacheLegendImgAsDataUrl' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-cacheLegendImgAsDataUrl' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-cacheLegendImgAsDataUrl' class='name expandable'>cacheLegendImgAsDataUrl</a>( <span class='pre'>legendUrl, layerKey</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Caches the given legend image for a layer as dataURL in the\nstatic lookup of CpsiMapview.view.LayerTree. ...</div><div class='long'><p>Caches the given legend image for a layer as dataURL in the\nstatic lookup of <a href=\"#!/api/CpsiMapview.view.LayerTree\" rel=\"CpsiMapview.view.LayerTree\" class=\"docClass\">CpsiMapview.view.LayerTree</a>.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>legendUrl</span> : String<div class='sub-desc'><p>The URL to the legend image</p>\n</div></li><li><span class='pre'>layerKey</span> : String<div class='sub-desc'><p>The key / ID of the layer (used for storing in lookup)</p>\n</div></li></ul></div></div></div><div id='method-createGetLegendGraphicUrl' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-createGetLegendGraphicUrl' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-createGetLegendGraphicUrl' class='name expandable'>createGetLegendGraphicUrl</a>( <span class='pre'>layer</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Creates a WMS getLegendGraphic request URL for the given OL layer. ...</div><div class='long'><p>Creates a WMS getLegendGraphic request URL for the given OL layer.\nFor WMS it uses the standard WMS mechanism / information.\nFor WFS the assumption is that MapServer uses the same configuration for\nWMS and WFS so we can create the getLegendGraphic the same way.\nSTYLE parameter is derived by the corresponding SLD file name\n(see <a href=\"#!/api/CpsiMapview.util.Legend-method-getWmsStyleFromSldFile\" rel=\"CpsiMapview.util.Legend-method-getWmsStyleFromSldFile\" class=\"docClass\">getWmsStyleFromSldFile</a>).</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>layer</span> : ol.layer.Base<div class='sub-desc'><p>The OL layer to get the request URL for</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>The getLegendGraphic request URL</p>\n</div></li></ul></div></div></div><div id='method-getLegendImgHtmlTpl' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-getLegendImgHtmlTpl' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-getLegendImgHtmlTpl' class='name expandable'>getLegendImgHtmlTpl</a>( <span class='pre'>legendUrl, width, height</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns a string-based HTML template for a legend image. ...</div><div class='long'><p>Returns a string-based HTML template for a legend image.\nCan be used within CpsiMapview.plugin.BasicTreeColumnLegend.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>legendUrl</span> : String<div class='sub-desc'><p>The URL to the legend image</p>\n</div></li><li><span class='pre'>width</span> : Number<div class='sub-desc'><p>Width of the legend image</p>\n</div></li><li><span class='pre'>height</span> : Number<div class='sub-desc'><p>Height of the legend image</p>\n</div></li></ul></div></div></div><div id='method-getSldFileFromWmsStyle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-getSldFileFromWmsStyle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-getSldFileFromWmsStyle' class='name expandable'>getSldFileFromWmsStyle</a>( <span class='pre'>wmsStyle, wmsLayers</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Derives the SLD file name by the corresponding WMS STYLES and LAYERS\nparameter. ...</div><div class='long'><p>Derives the SLD file name by the corresponding WMS STYLES and LAYERS\nparameter.\nConvention is LAYERS_STYLES.xml (whereas for STYLES we replace blanks by\nunderscores), e.g. 'Unit Type' and 'LightUnit' => LightUnit_Unit_Type.xml</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>wmsStyle</span> : String<div class='sub-desc'><p>The WMS STYLE parameter</p>\n</div></li><li><span class='pre'>wmsLayers</span> : String<div class='sub-desc'><p>The WMS LAYERS parameter</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>The SLD file name</p>\n</div></li></ul></div></div></div><div id='method-getUniqueLayersParam' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-getUniqueLayersParam' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-getUniqueLayersParam' class='name expandable'>getUniqueLayersParam</a>( <span class='pre'>layers</span> ) : String<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Removes any duplicate layer name from the given LAYERS parameter value. ...</div><div class='long'><p>Removes any duplicate layer name from the given LAYERS parameter value.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>layers</span> : String<div class='sub-desc'><p>WMS LAYERS parameter value, e.g. (layer1,layer2)</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>WMS LAYERS parameter without duplicates</p>\n</div></li></ul></div></div></div><div id='method-getWmsStyleFromSldFile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-getWmsStyleFromSldFile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-getWmsStyleFromSldFile' class='name expandable'>getWmsStyleFromSldFile</a>( <span class='pre'>sldFileName</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Derives the STYLE parameter by the corresponding SLD file name. ...</div><div class='long'><p>Derives the STYLE parameter by the corresponding SLD file name.\nConvention is LAYERS_STYLES.xml (whereas in STYLES we replace blanks by\nunderscores), e.g. LightUnit_Unit_Type.xml => 'Unit Type'.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>sldFileName</span> : String<div class='sub-desc'><p>The SLD file name</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>The WMS STYLE parameter</p>\n</div></li></ul></div></div></div><div id='method-hasLabels' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='CpsiMapview.util.Legend'>CpsiMapview.util.Legend</span><br/><a href='source/Legend.html#CpsiMapview-util-Legend-method-hasLabels' target='_blank' class='view-source'>view source</a></div><a href='#!/api/CpsiMapview.util.Legend-method-hasLabels' class='name expandable'>hasLabels</a>( <span class='pre'>styles</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Helper function to check if all styles\nhave a non-empty label property. ...</div><div class='long'><p>Helper function to check if all styles\nhave a non-empty label property.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>styles</span> : Object[]<div class='sub-desc'><p>Styles object from layerConfig to check</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});